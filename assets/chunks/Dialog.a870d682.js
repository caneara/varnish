import{_ as f,o as l,h as v,w as x,c as p,a as r,n as y,e as _,T as w,m as a}from"../app.ee44914a.js";import{S as m}from"./share.d8cd4727.js";import{P as u}from"./prompt.99fde43a.js";import{C as h}from"./confirm.8623a3c4.js";const C={data(){return{show:this.visible,types:{info:{class:"text-blue-700 dark:text-blue-400",svg:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},error:{class:"text-red-700 dark:text-red-400",svg:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},success:{class:"text-green-700 dark:text-green-400",svg:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}}},props:{message:{type:String,default:""},type:{type:String,default:"success"},visible:{type:Boolean,default:!1}},mounted(){setTimeout(()=>this.show=!0,50),setTimeout(()=>this.show=!1,3e3)}},b={key:0,class:"varnish-notification varnish-font min-w-[250px] max-w-[350px] fixed top-20 right-0 z-[1002]"},k={ref:"container",class:"varnish-container bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 flex items-center shadow-sm rounded-lg relative z-[30] pl-[15px] pr-6 py-3 mr-[18px]"},D={class:"varnish-icon opacity-70 mr-3 relative top-[.5px] flex self-stretch"},E=["d"],T=["innerHTML"];function B(e,n,t,o,s,i){return l(),v(w,{"enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","enter-active-class":"transition duration-500","leave-active-class":"transition duration-700","leave-to-class":"translate-x-[350px] md:translate-x-[450px]","enter-from-class":"translate-x-[350px] md:translate-x-[450px]"},{default:x(()=>[s.show?(l(),p("div",b,[r("div",k,[r("div",D,[(l(),p("svg",{width:"24",height:"24",style:{fill:"none"},viewBox:"0 0 24 24",class:y(["varnish-svg",s.types[t.type].class||""]),stroke:"currentColor"},[r("path",{"stroke-width":"2",d:s.types[t.type].svg||"","stroke-linecap":"round","stroke-linejoin":"round"},null,8,E)],2))]),r("span",{innerHTML:t.message,class:"varnish-message text-[14px] text-gray-800 dark:text-gray-300 leading-normal break-words relative top-[.5px]"},null,8,T)],512)])):_("",!0)]),_:1})}const g=f(C,[["render",B]]),S={components:{"v-confirm":h,"v-notification":g,"v-prompt":u,"v-share":m},data(){return{dialogs:[]}},methods:{createDialogElement(){let e=document.createElement("div");return e.id=`dialog-${parseInt(performance.now())}`,document.body.appendChild(e),this.dialogs.push({container:null,id:e.id}),this.dialogs.slice(-1)[0]},closeDialog(e){e.container._instance.props.visible=!1,setTimeout(()=>{e.container.unmount(),e.container=void 0,document.body.removeChild(document.getElementById(e.id))},300)},confirm(e=null,n=null){let t=this.createDialogElement();return new Promise((o,s)=>{t.container=a(h,{summary:n!=null?n:"Note that in most cases, this action is not reversible. If you need some help, then please contact support.",title:e!=null?e:"Are you sure you wish to proceed?",visible:!0,onCancel:()=>{o(!1),this.closeDialog(t)},onContinue:()=>{o(!0),this.closeDialog(t)}}),t.container.mount(`#${t.id}`)})},notify(e,n){let t=this.createDialogElement();t.container=a(g,{message:n,type:e}),t.container.mount(`#${t.id}`),setTimeout(()=>this.closeDialog(t),3500)},prompt(e=null,n=null,t=null,o="",s=1){let i=this.createDialogElement();return new Promise((c,z)=>{i.container=a(u,{label:t!=null?t:"Your response",lines:s,summary:n!=null?n:"In order to proceed, some input is required. Please enter it below, then press continue, or press cancel.",title:e!=null?e:"Awaiting your response...",visible:!0,onCancel:()=>{c(o),this.closeDialog(i)},onContinue:d=>{c(["",null,void 0].includes(d)?o:d),this.closeDialog(i)}}),i.container.mount(`#${i.id}`)})},share(e){let n=this.createDialogElement();n.container=a(m,{url:e,visible:!0}),n.container.mount(`#${n.id}`)}}};export{S as D};
