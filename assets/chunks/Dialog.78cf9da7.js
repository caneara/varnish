import{_ as x,o as c,h as y,w as _,c as m,a,n as w,e as D,T as C,m as r}from"../app.bed6644f.js";import{S as u}from"./share.79c9526d.js";import{P as h}from"./prompt.c98b41d1.js";import{C as g}from"./confirm.0369c032.js";const b={data(){return{show:this.visible,types:{info:{class:"text-blue-700 dark:text-blue-400",svg:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},error:{class:"text-red-700 dark:text-red-400",svg:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},success:{class:"text-green-700 dark:text-green-400",svg:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}}},props:{message:{type:String,default:""},type:{type:String,default:"success"},visible:{type:Boolean,default:!1}},mounted(){setTimeout(()=>this.show=!0,50),setTimeout(()=>this.show=!1,3e3)}},k={key:0,class:"varnish-notification varnish-font min-w-[250px] max-w-[350px] fixed top-20 right-0 z-[1002]"},E={ref:"container",class:"varnish-container bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 flex items-center shadow-sm rounded-lg relative z-[30] pl-[15px] pr-6 py-3 mr-[18px]"},T={class:"varnish-icon opacity-70 mr-3 relative top-[.5px] flex self-stretch"},B=["d"],z=["innerHTML"];function M(e,t,o,s,n,i){return c(),y(C,{"enter-to-class":"translate-x-0","leave-from-class":"translate-x-0","enter-active-class":"transition duration-500","leave-active-class":"transition duration-700","leave-to-class":"translate-x-[350px] md:translate-x-[450px]","enter-from-class":"translate-x-[350px] md:translate-x-[450px]"},{default:_(()=>[n.show?(c(),m("div",k,[a("div",E,[a("div",T,[(c(),m("svg",{width:"24",height:"24",style:{fill:"none"},viewBox:"0 0 24 24",class:w(["varnish-svg",n.types[o.type].class||""]),stroke:"currentColor"},[a("path",{"stroke-width":"2",d:n.types[o.type].svg||"","stroke-linecap":"round","stroke-linejoin":"round"},null,8,B)],2))]),a("span",{innerHTML:o.message,class:"varnish-message text-[14px] text-gray-800 dark:text-gray-300 leading-normal break-words relative top-[.5px]"},null,8,z)],512)])):D("",!0)]),_:1})}const f=x(b,[["render",M]]),A={components:{"v-confirm":g,"v-notification":f,"v-prompt":h,"v-share":u},data(){return{dialogs:[]}},methods:{createDialogElement(){let e=document.createElement("div");return e.id=`dialog-${parseInt(performance.now())}`,document.body.appendChild(e),this.dialogs.push({container:null,id:e.id}),e.id},closeDialog(e){this.dialogs.find(t=>t.id===e).container._instance.props.visible=!1,setTimeout(()=>{this.dialogs.find(t=>t.id===e).container.unmount(),this.dialogs.find(t=>t.id===e).container=void 0,document.body.removeChild(document.getElementById(e))},300)},confirm(e=null,t=null){let o=this.createDialogElement();return new Promise((s,n)=>{let i=r(g,{summary:t!=null?t:"Note that in most cases, this action is not reversible. If you need some help, then please contact support.",title:e!=null?e:"Are you sure you wish to proceed?",visible:!0,onCancel:()=>{s(!1),this.closeDialog(o)},onContinue:()=>{s(!0),this.closeDialog(o)}});this.mountDialog(o,i)})},mountDialog(e,t){this.dialogs.find(o=>o.id===e).container=t,this.dialogs.find(o=>o.id===e).container.mount(`#${e}`)},notify(e,t){let o=this.createDialogElement(),s=r(f,{message:t,type:e});this.mountDialog(o,s),setTimeout(()=>this.closeDialog(o),3500)},prompt(e=null,t=null,o=null,s="",n=1,i=null){let l=this.createDialogElement();return new Promise((d,P)=>{let v=r(h,{label:o!=null?o:"Your response",lines:n,maxLength:i,summary:t!=null?t:"In order to proceed, some input is required. Please enter it below, then press continue, or press cancel.",title:e!=null?e:"Awaiting your response...",visible:!0,onCancel:()=>{d(s),this.closeDialog(l)},onContinue:p=>{d(["",null,void 0].includes(p)?s:p),this.closeDialog(l)}});this.mountDialog(l,v)})},share(e){let t=r(u,{url:e,visible:!0});this.mountDialog(this.createDialogElement(),t)}}};export{A as D};
